# ********RoostGPT********

# Test generated by RoostGPT for test artillery-api using AI Type  and AI Model 
# 
# Test generated for /nobelPrizes_get for http method type GET in artillery framework
# RoostTestHash=977dd819cb
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 10
  plugins:
    expect: {}
  payload:
    path: "nobelPrizes_get_others.csv"
    skipHeader: true
    delimiter: "^|^"

scenarios:
  - name: "Non-Success API Responses Scenario"
    flow:
      - log: "Request with invalid payload (malformed JSON structure)"
      - post:
          url: "/2.1/nobelPrizes"
          headers:
            Content-Type: "application/json"
            AUTH_HEADER_NAME: "{{ $processEnvironment.AUTH_TOKEN }}"
          payload: 
            malformed_json_field: true
      - expect:
          statusCode: 400
      - expect:
          hasProperty: "error"
      - think: 
          duration: 2

      - log: "Request with missing authentication header"
      - get:
          url: "/2.1/nobelPrizes?offset=10"
      - expect:
          statusCode: 401
      - expect:
          hasProperty: "error"
      - think: 
          duration: 2

      - log: "Request with invalid URL"
      - get:
          url: "/2.1/nobelPrize"
          headers:
            AUTH_HEADER_NAME: "{{ $processEnvironment.AUTH_TOKEN }}"
      - expect: 
          statusCode: 404
      - think: 
          duration: 2

      - log: "Request with invalid query parameter"
      - get:
          url: "/2.1/nobelPrizes?nobelPrizeYear=1899"
          headers:
            AUTH_HEADER_NAME: "{{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400
      - expect:
          hasProperty: "error"
      - think: 
          duration: 2

      - log: "Request with unsupported sort parameter value"
      - get:
          url: "/2.1/nobelPrizes?sort=unknown"
          headers:
            AUTH_HEADER_NAME: "{{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400
      - expect:
          hasProperty: "error"
      - think: 
          duration: 2

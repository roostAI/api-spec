# ********RoostGPT********

# Test generated by RoostGPT for test artillery-api using AI Type  and AI Model 
# 
# Test generated for /laureates_get for http method type GET in artillery framework
# RoostTestHash=41cb7e02aa
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 5
  payload:
    path: laureates_get_others.csv
    skipHeader: true
    delimiter: "^|^"
  plugins:
    expect: {}

scenarios:
  - name: "Test various non-successful API requests for /2.1/laureates endpoint"
    flow:
      - log: "Testing with missing required parameter (offset) for endpoint /2.1/laureates"
      - get:
          url: "/2.1/laureates?limit={{ limit }}&sort={{ sort }}"
          headers:
            Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400
          hasHeader: ["Content-Type"]
          hasProperty: ["error"]
      - think: 
          seconds: 2

      - log: "Testing with invalid sort parameter value for endpoint /2.1/laureates"
      - get:
          url: "/2.1/laureates?offset=1&limit=10&sort=INVALID_SORT_VALUE"
          headers:
            Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 422
          hasHeader: ["Content-Type"]
          hasProperty: ["error"]
      - think: 
          seconds: 2

      - log: "Testing with incorrect API URL /2.1/laureatee"
      - get:
          url: "/2.1/laureatee?offset=1&limit=10"
          headers:
            Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 404
          hasHeader: ["Content-Type"]
      - think: 
          seconds: 2

      - log: "Testing with invalid authorization token"
      - get:
          url: "/2.1/laureates?offset=1&limit=10"
          headers:
            Authorization: "Bearer INVALID_TOKEN"
      - expect:
          statusCode: 401
          hasHeader: ["Content-Type"]
      - think: 
          seconds: 2

      - log: "Testing with non-integer offset parameter for /2.1/laureates"
      - get:
          url: "/2.1/laureates?offset=abc&limit=10"
          headers:
            Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400
          hasHeader: ["Content-Type"]
          hasProperty: ["error"]
      - think: 
          seconds: 2

      - log: "Testing with invalid date format for birthDate parameter /2.1/laureates"
      - get:
          url: "/2.1/laureates?offset=1&limit=10&birthDate=2023-13-01"
          headers:
            Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400
          hasHeader: ["Content-Type"]
          hasProperty: ["error"]
